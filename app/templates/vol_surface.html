{% extends "index.html" %}
{% block content %}



<h3 class="page-header"><i class="fa fa-laptop"></i> Volatility Surface</h3>
<ol class="breadcrumb">
  <li><i class="fa fa-home"></i><a href="/index">Home</a></li>
  <li><i class="fa fa-laptop"></i>Volatility Surface</li>
</ol>

	<head>
		<title>Line Chart</title>
		<script src="../static/bootstrap/assets/chart-master/Chart.js"></script>
		<meta name = "viewport" content = "initial-scale = 1, user-scalable = no">
		<style>
			canvas{
			}
		</style>
	</head>
	<body>
		





		<!--<canvas id="pie-chart" width="800" height="450"></canvas>-->
		  
		<!-- Line -->
		<div class="col-lg-8">
		  <section class="panel">
			  <header class="panel-heading">
				  3D surface example
			  </header>
			  <div class="panel-body text-center">
				  <!--<canvas id="canvas" height="450" width="600"></canvas>-->
					<div id="myDiv" style="width:100%;height:100%"></div>
			  </div>
		  </section>
		</div>

  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  
  <script>
Plotly.d3.csv("/vol_surface_csv", function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}
  
var z_data=[ ]
for(i=0;i<24;i++)
{
  z_data.push(unpack(rows,i));
}

var data = [{
           z: z_data,
           type: 'surface'
        }];
  
var layout = {
  title: 'Volatility Surface',
  autosize: false,
  width: 500,
  height: 500,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv', data, layout);
});

  </script>
  
  

	</body>
{% endblock %}
